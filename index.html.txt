<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="content-language" content="ko">
    <meta name="geo.region" content="KR">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#10a37f">
    <title>ë¡œë˜ë‹¹ì²¨ë²ˆí˜¸ ì¡°í•©ê¸° - ê³¼í•™ì  ë°ì´í„° ë¶„ì„ ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°</title>
    <meta name="description" content="1,000íšŒ ì´ìƒì˜ ë¡œë˜ ì¶”ì²¨ ë°ì´í„°ë¥¼ ê³¼í•™ì ìœ¼ë¡œ ë¶„ì„í•œ ë¬´ë£Œ ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°. ë‹¹ì²¨ íŒ¨í„´ ë¶„ì„, í™•ë¥  í†µê³„, ë²ˆí˜¸ ì„ íƒ ì „ëµê¹Œì§€ ëª¨ë“  ê²ƒì„ ì œê³µí•©ë‹ˆë‹¤.">
    <meta name="keywords" content="ë¡œë˜ë²ˆí˜¸ìƒì„±ê¸°, ë¡œë˜ë‹¹ì²¨ë²ˆí˜¸ì¡°í•©ê¸°, ë¡œë˜ë²ˆí˜¸ì¶”ì²œ, ë¡œë˜ë¶„ì„, ë¡œë˜í†µê³„, ë‹¹ì²¨ë²ˆí˜¸ì¡°íšŒ, ë¡œë˜ë‹¹ì²¨ê¸ˆ, ë¡œë˜645, ë¬´ë£Œë¡œë˜, í–‰ìš´ë²ˆí˜¸, ë¡œë˜ë²ˆí˜¸íŒ¨í„´, ë¡œë˜ë‹¹ì²¨í™•ë¥ , ë¡œë˜ë²ˆí˜¸ë¶„ì„, ê³¼í•™ì ë¡œë˜, ë°ì´í„°ë¡œë˜">
    <meta name="robots" content="index, follow">
    <meta name="author" content="ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°">
    <meta name="generator" content="ë¡œë˜ë‹¹ì²¨ë²ˆí˜¸ ì¡°í•©ê¸° v2.0">
    <link rel="canonical" href="https://example.com/lotto-generator">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ€</text></svg>">
    
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Google Fonts: Noto Sans KR for Korean characters */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f8f9fa; }
        /* Styling for Lotto Balls in HTML display */
        .lotto-ball {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1rem;
            margin: 5px; /* Increased margin for better spacing */
            box-shadow: inset -3px -3px 5px rgba(0,0,0,0.3), 2px 2px 5px rgba(0,0,0,0.3);
        }
        /* Background colors for lotto balls based on number ranges */
        .bg-lotto-1 { background-color: #fbc400; } /* 1-10 yellow */
        .bg-lotto-10 { background-color: #69c8f2; } /* 11-20 blue */
        .bg-lotto-20 { background-color: #ff7272; } /* 21-30 red */
        .bg-lotto-30 { background-color: #aaa; } /* 31-40 gray */
        .bg-lotto-40 { background-color: #b0d840; } /* 41-45 green */
        /* Fade-in animation for sections */
        .fade-in { animation: fadeIn 1s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        /* Navigation link transition and active state */
        .nav-link { transition: all 0.3s ease; }
        /* Changed active state color for better visibility on black background */
        .nav-link.active { color: #b0d840; font-weight: 700; border-bottom: 2px solid #b0d840; } 
        /* Card styling for content blocks */
        .card { background-color: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1); }
        /* Primary button styling */
        .btn-primary { background-color: #10a37f; color: white; transition: background-color 0.3s; }
        .btn-primary:hover { background-color: #0d8a6a; }
        /* Chart container for responsiveness */
        .chart-container { position: relative; height: 350px; width: 100%; margin: auto; }
        
        /* 2D Lotto drawing canvas styling */
        #lotto-draw-canvas { 
            width: 100%; 
            height: 300px; /* Reduced height */
            background-color: #f0f8ff; /* Light blue background for the drum */
            border-radius: 12px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
            display: block; /* Ensures no extra space below canvas */
        }
        /* Style for drawn balls display container */
        #drawn-numbers-display {
            min-height: 60px; /* Give some space even when empty */
            border: 1px dashed #ccc;
            border-radius: 8px;
            padding: 10px;
            margin-top: 15px;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header & Navigation Section - Fixed at the very top with black background and white text -->
    <header class="bg-gray-900 fixed top-0 left-0 right-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-2">
                    <span class="2xl">ğŸ€</span>
                    <h1 class="text-xl md:text-2xl font-bold text-white">
                        <a href="#">ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°</a>
                    </h1>
                </div>
                <!-- Desktop Navigation Links -->
                <div class="hidden md:flex items-center space-x-6 text-lg">
                    <!-- Removed 3D ì‹œê°í™” menu item -->
                    <a href="#generator" class="nav-link text-white">ë²ˆí˜¸ ìƒì„±</a>
                    <a href="#analysis" class="nav-link text-white">ë°ì´í„° ë¶„ì„</a>
                    <a href="#strategy" class="nav-link text-white">ì„ íƒ ì „ëµ</a>
                    <a href="#faq" class="nav-link text-white">FAQ</a>
                </div>
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden text-2xl text-white">â˜°</button>
            </div>
        </nav>
        <!-- Mobile Menu (hidden by default) with black background and white text -->
        <div id="mobile-menu" class="hidden md:hidden px-4 pb-4 bg-gray-900">
            <!-- Removed 3D ì‹œê°í™” menu item -->
            <a href="#generator" class="block py-2 text-lg nav-link text-white">ë²ˆí˜¸ ìƒì„±</a>
            <a href="#analysis" class="block py-2 text-lg nav-link text-white">ë°ì´í„° ë¶„ì„</a>
            <a href="#strategy" class="block py-2 text-lg nav-link text-white">ì„ íƒ ì „ëµ</a>
            <a href="#faq" class="block py-2 text-lg nav-link text-white">FAQ</a>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto p-4 md:p-8 pt-20"> <!-- Added padding-top to account for fixed header height -->

        <!-- Hero Lotto Drawing Simulation Section -->
        <section id="lotto-draw-simulation" class="text-center py-8 md:py-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 fade-in">ê³¼í•™ì  ë°ì´í„° ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ ìƒì„±</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-3xl mx-auto fade-in">
                1,125íšŒì°¨ê¹Œì§€ì˜ ëª¨ë“  ë‹¹ì²¨ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ë²ˆí˜¸ ì¡°í•©ì„ ë¬´ë£Œë¡œ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤. <br class="hidden md:block">
                ë‹¨ìˆœí•œ ë¬´ì‘ìœ„ ìƒì„±ì„ ë„˜ì–´, í†µê³„ì  íŒ¨í„´ì— ê¸°ë°˜í•œ ìŠ¤ë§ˆíŠ¸í•œ ë²ˆí˜¸ë¥¼ ë°›ì•„ë³´ì„¸ìš”.
            </p>
            <div class="card p-6 md:p-8 max-w-4xl mx-auto mb-8 fade-in">
                <!-- Moved button to this position -->
                <button id="simulate-button" class="w-full md:w-auto px-12 py-4 text-xl font-bold btn-primary rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 mb-4">
                    ğŸ€ í–‰ìš´ ë²ˆí˜¸ ìƒì„± (ì‹œë®¬ë ˆì´ì…˜) ğŸ€
                </button>
                <p class="text-gray-600 mb-4">"í–‰ìš´ ë²ˆí˜¸ ìƒì„±" ë²„íŠ¼ì„ ëˆŒëŸ¬ ê³µë“¤ì´ ì¶”ì²¨ë˜ëŠ” ê²ƒì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
                <canvas id="lotto-draw-canvas" class="mb-4"></canvas>
                <div id="drawn-numbers-display" class="flex flex-wrap justify-center gap-2 mt-4">
                    <!-- Drawn balls will appear here -->
                </div>
            </div>
        </section>

        <!-- Generator Section: ë¡œë˜ ë²ˆí˜¸ ìƒì„± ê¸°ëŠ¥ (í¼ë§Œ ë‚¨ìŒ) -->
        <section id="generator" class="text-center py-12 md:py-20 -mt-20"> <!-- Adjusted margin to compensate for hero section padding -->
            <div class="card p-6 md:p-8 max-w-4xl mx-auto fade-in">
                <h3 class="text-2xl font-semibold mb-6">ë‚˜ë§Œì˜ í–‰ìš´ ë²ˆí˜¸ ìƒì„±í•˜ê¸°</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label for="include-numbers" class="block text-left font-medium mb-2">í¬í•¨í•  ë²ˆí˜¸ (ì„ íƒ)</label>
                        <input type="text" id="include-numbers" placeholder="ì˜ˆ: 7 14 21" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                    <div>
                        <label for="exclude-numbers" class="block text-left font-medium mb-2">ì œì™¸í•  ë²ˆí˜¸ (ì„ íƒ)</label>
                        <input type="text" id="exclude-numbers" placeholder="ì˜ˆ: 4 9 33" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                    </div>
                </div>

                <div class="mb-6">
                    <label for="generation-count" class="block text-left font-medium mb-2">ìƒì„±í•  ì¡°í•© ê°œìˆ˜</label>
                    <select id="generation-count" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                        <!-- Options for generation count from 1 to 10 -->
                        <option value="1">1ê°œ</option>
                        <option value="2">2ê°œ</option>
                        <option value="3">3ê°œ</option>
                        <option value="4">4ê°œ</option>
                        <option value="5" selected>5ê°œ</option> <!-- Default selected -->
                        <option value="6">6ê°œ</option>
                        <option value="7">7ê°œ</option>
                        <option value="8">8ê°œ</option>
                        <option value="9">9ê°œ</option>
                        <option value="10">10ê°œ</option>
                    </select>
                </div>

                <button id="generate-button" class="w-full md:w-auto px-12 py-4 text-xl font-bold btn-primary rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105">
                    ğŸ€ í–‰ìš´ ë²ˆí˜¸ ìƒì„± ğŸ€
                </button>

                <div id="loading-indicator" class="hidden my-4">
                    <p class="text-lg text-green-600">ìµœì ì˜ ë²ˆí˜¸ë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</p>
                </div>

                <div id="results-container" class="mt-8 text-left"></div>
            </div>
        </section>

        <!-- Analysis Section: ë¡œë˜ ë‹¹ì²¨ ë°ì´í„° ë¶„ì„ ì°¨íŠ¸ ì œê³µ -->
        <section id="analysis" class="py-12 md:py-20">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">ë°ì´í„°ë¡œ ë³´ëŠ” ë¡œë˜ ë‹¹ì²¨ íŒ¨í„´</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">ë²ˆí˜¸ëŒ€ë³„ ì¶œí˜„ íšŸìˆ˜</h3>
                    <p class="text-gray-600 mb-4">íŠ¹ì • ë²ˆí˜¸ êµ¬ê°„ì˜ ë‹¹ì²¨ ë¹ˆë„ë¥¼ í™•ì¸í•˜ì—¬ ë²ˆí˜¸ ì„ íƒì˜ ê· í˜•ì„ ë§ì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="frequencyChart"></canvas>
                    </div>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">í™€/ì§ ë¹„ìœ¨ í†µê³„</h3>
                    <p class="text-gray-600 mb-4">ì—­ëŒ€ ë‹¹ì²¨ ë²ˆí˜¸ì˜ í™€ìˆ˜ì™€ ì§ìˆ˜ ë¹„ìœ¨ì…ë‹ˆë‹¤. ê°€ì¥ ë§ì´ ë‚˜ì˜¨ ì¡°í•©ì„ ì°¸ê³ í•˜ì„¸ìš”.</p>
                    <div class="chart-container">
                        <canvas id="oddEvenChart"></canvas>
                    </div>
                </div>
                <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">ë²ˆí˜¸ ì´í•© ë¶„í¬</h3>
                    <p class="text-gray-600 mb-4">6ê°œ ë²ˆí˜¸ì˜ í•©ê³„ê°€ íŠ¹ì • êµ¬ê°„ì— ì§‘ì¤‘ë˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ í™•ë¥  ë†’ì€ êµ¬ê°„ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                    <div class="chart-container">
                        <canvas id="sumDistributionChart"></canvas>
                    </div>
                </div>
                 <div class="card p-6">
                    <h3 class="text-xl font-semibold mb-4">ìµœë‹¤ ì¶œí˜„ ë²ˆí˜¸ TOP 10</h3>
                    <p class="text-gray-600 mb-4">ì§€ê¸ˆê¹Œì§€ ê°€ì¥ ë§ì´ ë‹¹ì²¨ëœ í–‰ìš´ì˜ ë²ˆí˜¸ë“¤ì…ë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="topNumbersChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Strategy Section: ìŠ¤ë§ˆíŠ¸í•œ ë²ˆí˜¸ ì„ íƒ ì „ëµ ì œê³µ -->
        <section id="strategy" class="py-12 md:py-20 bg-gray-50 rounded-xl">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">ìŠ¤ë§ˆíŠ¸í•œ ë²ˆí˜¸ ì„ íƒ ì „ëµ</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                <div class="card p-6 text-center">
                    <div class="text-4xl mb-4">ğŸ“Š</div>
                    <h3 class="text-xl font-semibold mb-2">ê· í˜•ì¡íŒ ì¡°í•©</h3>
                    <p class="text-gray-600">ë²ˆí˜¸ëŒ€ë³„, í™€/ì§ ë¹„ìœ¨, ì´í•© ë“± í†µê³„ ë°ì´í„°ë¥¼ ì°¸ê³ í•˜ì—¬ ê· í˜• ì¡íŒ ë²ˆí˜¸ ì¡°í•©ì„ ë§Œë“œì„¸ìš”. í•œìª½ì— ì¹˜ìš°ì¹œ ì¡°í•©ì€ ë‹¹ì²¨ í™•ë¥ ì´ ë‚®ìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="card p-6 text-center">
                     <div class="text-4xl mb-4">âœ¨</div>
                    <h3 class="text-xl font-semibold mb-2">ë‚˜ë§Œì˜ í–‰ìš´ìˆ˜ í¬í•¨</h3>
                    <p class="text-gray-600">í†µê³„ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ìì‹ ì—ê²Œ ì˜ë¯¸ ìˆëŠ” ë²ˆí˜¸ë¥¼ í¬í•¨í•˜ì—¬ ê¸ì •ì ì¸ ê¸°ìš´ì„ ë”í•´ë³´ì„¸ìš”. 'í¬í•¨í•  ë²ˆí˜¸' ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="card p-6 text-center">
                     <div class="text-4xl mb-4">ğŸ”„</div>
                    <h3 class="text-xl font-semibold mb-2">ì—°ì† ë²ˆí˜¸ í™œìš©</h3>
                    <p class="text-gray-600">ë‹¹ì²¨ ë²ˆí˜¸ì—ëŠ” ì¢…ì¢… 1-2ìŒì˜ ì—°ì† ë²ˆí˜¸ê°€ í¬í•¨ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ (11, 12) ì™€ ê°™ì€ ì¡°í•©ì„ ê³ ë ¤í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div class="card p-6 text-center">
                     <div class="text-4xl mb-4">ğŸš«</div>
                    <h3 class="text-xl font-semibold mb-2">ê³¼ê±° ë‹¹ì²¨ë²ˆí˜¸ í”¼í•˜ê¸°</h3>
                    <p class="text-gray-600">ì§ì „ íšŒì°¨ì˜ 1ë“± ë²ˆí˜¸ê°€ ê·¸ëŒ€ë¡œ ë‹¤ì‹œ ë‚˜ì˜¬ í™•ë¥ ì€ ë§¤ìš° ë‚®ìŠµë‹ˆë‹¤. 'ì œì™¸í•  ë²ˆí˜¸' ê¸°ëŠ¥ìœ¼ë¡œ ìµœê·¼ ë‹¹ì²¨ ë²ˆí˜¸ë¥¼ ì œì™¸í•´ ë³´ì„¸ìš”.</p>
                </div>
                <div class="card p-6 text-center">
                    <div class="text-4xl mb-4">ğŸ“†</div>
                    <h3 class="text-xl font-semibold mb-2">ê¾¸ì¤€í•¨ì´ ì¤‘ìš”</h3>
                    <p class="text-gray-600">ë¡œë˜ëŠ” í™•ë¥  ê²Œì„ì…ë‹ˆë‹¤. ë§¤ì£¼ ì†Œì•¡ìœ¼ë¡œ ê¾¸ì¤€íˆ ì°¸ì—¬í•˜ëŠ” ê²ƒì´ ë‹¹ì²¨ ê°€ëŠ¥ì„±ì„ ë†’ì´ëŠ” ê°€ì¥ í˜„ì‹¤ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.</p>
                </div>
                 <div class="card p-6 text-center">
                    <div class="text-4xl mb-4">ğŸ¤”</div>
                    <h3 class="text-xl font-semibold mb-2">íŒ¨í„´ ë¶„ì„ í™œìš©</h3>
                    <p class="text-gray-600">ì¥ê¸°ê°„ ë‚˜ì˜¤ì§€ ì•Šì€ ë²ˆí˜¸(ì°¨ê°€ìš´ ìˆ˜)ë‚˜ ìµœê·¼ ìì£¼ ë‚˜ì˜¤ëŠ” ë²ˆí˜¸(ëœ¨ê±°ìš´ ìˆ˜)ë¥¼ ë¶„ì„í•˜ì—¬ ìì‹ ë§Œì˜ ì „ëµì„ ì„¸ì›Œë³´ì„¸ìš”.</p>
                </div>
            </div>
        </section>

        <!-- FAQ Section: ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ë° ë‹µë³€ ì œê³µ -->
        <section id="faq" class="py-12 md:py-20">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-10">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
            <div class="max-w-3xl mx-auto space-y-4">
                <div class="card p-4">
                    <button class="w-full text-left flex justify-between items-center faq-question">
                        <span class="text-lg font-semibold">ì´ ë²ˆí˜¸ ìƒì„±ê¸°ëŠ” ì •ë§ ë¬´ë£Œì¸ê°€ìš”?</span>
                        <span class="text-xl transform transition-transform faq-arrow">â–¼</span>
                    </button>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        ë„¤, 100% ë¬´ë£Œì…ë‹ˆë‹¤. ì €í¬ëŠ” ë¡œë˜ ë°ì´í„° ë¶„ì„ê³¼ í†µê³„ì  ì ‘ê·¼ì„ í†µí•´ ë” ë§ì€ ë¶„ë“¤ì´ ë¡œë˜ë¥¼ ì¦ê²ê²Œ ì¦ê¸¸ ìˆ˜ ìˆë„ë¡ ë•ê³ ì ì´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. íšŒì›ê°€ì…ì´ë‚˜ ì–´ë– í•œ ê²°ì œë„ ìš”êµ¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                    </div>
                </div>
                <div class="card p-4">
                    <button class="w-full text-left flex justify-between items-center faq-question">
                        <span class="text-lg font-semibold">ìƒì„±ëœ ë²ˆí˜¸ì˜ ë‹¹ì²¨ í™•ë¥ ì€ ì–¼ë§ˆë‚˜ ë˜ë‚˜ìš”?</span>
                         <span class="text-xl transform transition-transform faq-arrow">â–¼</span>
                    </button>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        ë¡œë˜ 1ë“± ë‹¹ì²¨ í™•ë¥ ì€ ì•½ 814ë§Œ ë¶„ì˜ 1ë¡œ, ëª¨ë“  ë²ˆí˜¸ ì¡°í•©ì˜ í™•ë¥ ì€ ìˆ˜í•™ì ìœ¼ë¡œ ë™ì¼í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì €í¬ ìƒì„±ê¸°ëŠ” ê³¼ê±° ë‹¹ì²¨ ë°ì´í„°ì˜ í†µê³„ì  íŒ¨í„´(ì˜ˆ: ë²ˆí˜¸ ì´í•©, í™€ì§ ë¹„ìœ¨ ë“±)ì„ ë¶„ì„í•˜ì—¬, ì‹¤ì œë¡œ ë” ìì£¼ ë‚˜ì™”ë˜ ìœ í˜•ì˜ ì¡°í•©ì„ ìƒì„±í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¹ì²¨ì„ ë³´ì¥í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í†µê³„ì ìœ¼ë¡œ ê°€ëŠ¥ì„± ë†’ì€ ì¡°í•©ì„ ì¶”ì²œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
                    </div>
                </div>
                 <div class="card p-4">
                    <button class="w-full text-left flex justify-between items-center faq-question">
                        <span class="text-lg font-semibold">'í¬í•¨/ì œì™¸í•  ë²ˆí˜¸'ëŠ” ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë‚˜ìš”?</span>
                         <span class="text-xl transform transition-transform faq-arrow">â–¼</span>
                    </button>
                    <div class="faq-answer hidden mt-4 text-gray-600">
                        ê° ì…ë ¥ë€ì— ì›í•˜ëŠ” ë²ˆí˜¸ë¥¼ ë„ì–´ì“°ê¸°ë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, 'í¬í•¨í•  ë²ˆí˜¸'ì— '7 15'ë¥¼ ì…ë ¥í•˜ë©´ ìƒì„±ë˜ëŠ” ëª¨ë“  ì¡°í•©ì— 7ê³¼ 15ê°€ ë°˜ë“œì‹œ í¬í•¨ë©ë‹ˆë‹¤. 'ì œì™¸í•  ë²ˆí˜¸'ì— '3 9'ë¥¼ ì…ë ¥í•˜ë©´ 3ê³¼ 9ëŠ” ëª¨ë“  ì¡°í•©ì—ì„œ ì œì™¸ë©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì—¬ ìì‹ ë§Œì˜ ì „ëµì„ ì ìš©í•´ ë³´ì„¸ìš”.
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white text-center py-8">
        <p>&copy; 2024 ê³¼í•™ì  ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°. All Rights Reserved.</p>
        <p class="text-sm text-gray-400 mt-2">ë³¸ ì„œë¹„ìŠ¤ëŠ” ì˜¤ë½ ë° ì •ë³´ ì œê³µì„ ëª©ì ìœ¼ë¡œ í•˜ë©°, ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê³¼ë„í•œ êµ¬ë§¤ëŠ” ì‚¼ê°€ì£¼ì„¸ìš”.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile Menu Toggle Logic
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Navigation Active State Logic for Scroll
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section');
            window.addEventListener('scroll', () => {
                let current = '';
                // Adjust offset for the fixed header height
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    // Add header height to offset so active state changes when section is visible below header
                    const headerHeight = document.querySelector('header').offsetHeight; 
                    if (pageYOffset >= sectionTop - headerHeight - 20) { // Added extra 20px for buffer
                        current = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });
            
            // Smooth scroll for mobile menu links (hides menu after click)
            document.querySelectorAll('#mobile-menu a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    mobileMenu.classList.add('hidden');
                });
            });

            // FAQ Accordion Toggle Logic
            const faqQuestions = document.querySelectorAll('.faq-question');
            faqQuestions.forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling;
                    const arrow = question.querySelector('.faq-arrow');
                    answer.classList.toggle('hidden');
                    arrow.classList.toggle('rotate-180'); // Rotate arrow for visual feedback
                });
            });

            // Lotto Number Generation Logic
            const generateButton = document.getElementById('generate-button'); // Button for text results
            const simulateButton = document.getElementById('simulate-button'); // Button for simulation
            const resultsContainer = document.getElementById('results-container');
            const loadingIndicator = document.getElementById('loading-indicator');
            const includeInput = document.getElementById('include-numbers');
            const excludeInput = document.getElementById('exclude-numbers');
            const countSelect = document.getElementById('generation-count');
            const drawnNumbersDisplay = document.getElementById('drawn-numbers-display');

            // Function to determine lotto ball color based on number range (for HTML display)
            const lottoBallColors = (num) => {
                if (num <= 10) return 'bg-lotto-1';
                if (num <= 20) return 'bg-lotto-10';
                if (num <= 30) return 'bg-lotto-20';
                if (num <= 40) return 'bg-lotto-30';
                return 'bg-lotto-40';
            };

            // Function to get lotto ball base color in hex for 2D canvas drawing
            function getCanvasBallColor(number) {
                if (number >= 1 && number <= 10) return '#fbc400'; // Yellow
                if (number >= 11 && number <= 20) return '#69c8f2'; // Light Blue
                if (number >= 21 && number <= 30) return '#ff7272'; // Red
                if (number >= 31 && number <= 40) return '#aaaaaa'; // Gray
                if (number >= 41 && number <= 45) return '#b0d840'; // Green
                return '#cccccc'; // Default color for unexpected numbers
            }

            // 2D Lotto Drawing Simulation Variables
            const canvas = document.getElementById('lotto-draw-canvas');
            const ctx = canvas.getContext('2d');
            let balls = [];
            let animationFrameId;
            const ballRadius = 30; // Increased ball radius
            const numTotalBalls = 45; // All lotto numbers from 1 to 45
            let drawnBalls = [];
            let drawingInProgress = false;
            let currentGeneratedNumbers = []; // Store the last generated numbers

            // Adjust canvas size for high-DPI screens and responsiveness
            function setCanvasSize() {
                const parent = canvas.parentElement;
                canvas.width = parent.clientWidth;
                canvas.height = parent.clientHeight;
                // Important: Redraw content after resizing
                draw();
            }

            // Ball class for the 2D simulation
            class Ball {
                constructor(number) {
                    this.number = number;
                    // Initial random position within canvas bounds
                    this.x = Math.random() * (canvas.width - ballRadius * 2) + ballRadius;
                    this.y = Math.random() * (canvas.height - ballRadius * 2) + ballRadius;
                    // Random velocity
                    this.dx = (Math.random() - 0.5) * 4; // -2 to 2
                    this.dy = (Math.random() - 0.5) * 4; // -2 to 2
                    this.color = getCanvasBallColor(number); // Use the new global function for canvas colors
                    this.isDrawn = false; // Flag to indicate if ball is picked
                    this.isExited = false; // Flag to indicate if ball has exited the canvas
                    this.targetX = null;
                    this.targetY = null;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, ballRadius, 0, Math.PI * 2);

                    // Create radial gradient for 3D effect
                    const gradient = ctx.createRadialGradient(
                        this.x - ballRadius * 0.3, this.y - ballRadius * 0.3, ballRadius * 0.1, // Light source
                        this.x, this.y, ballRadius // Ball center and radius
                    );
                    // Add color stops for spherical appearance
                    gradient.addColorStop(0, '#ffffff'); // Highlight
                    gradient.addColorStop(0.5, this.color); // Base color
                    gradient.addColorStop(1, '#000000'); // Shadow

                    ctx.fillStyle = gradient;
                    ctx.fill();

                    // Add a subtle shadow to the ball
                    ctx.shadowColor = 'rgba(0, 0, 0, 0.4)';
                    ctx.shadowBlur = 5;
                    ctx.shadowOffsetX = 2;
                    ctx.shadowOffsetY = 2;

                    ctx.strokeStyle = '#333';
                    ctx.lineWidth = 1;
                    ctx.stroke();
                    ctx.closePath();

                    // Reset shadow for text drawing
                    ctx.shadowColor = 'transparent';
                    ctx.shadowBlur = 0;
                    ctx.shadowOffsetX = 0;
                    ctx.shadowOffsetY = 0;

                    // Draw number on the ball - Increased font size
                    ctx.font = `bold ${ballRadius * 0.8}px 'Noto Sans KR', sans-serif`; // Changed from 0.7 to 0.8
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = 'white';
                    ctx.fillText(this.number, this.x, this.y);
                }

                update() {
                    if (this.isDrawn) {
                        // Move towards target position if drawn
                        const speed = 5;
                        const dxToTarget = this.targetX - this.x;
                        const dyToTarget = this.targetY - this.y;
                        const distance = Math.sqrt(dxToTarget * dxToTarget + dyToTarget * dyToTarget);

                        if (distance > speed) {
                            this.x += (dxToTarget / distance) * speed;
                            this.y += (dyToTarget / distance) * speed;
                        } else {
                            this.x = this.targetX;
                            this.y = this.targetY;
                            this.isExited = true; // Mark as exited once it reaches its target (off-canvas)
                        }
                    } else {
                        // Normal movement and bouncing
                        this.x += this.dx;
                        this.y += this.dy;

                        // Wall collision detection
                        if (this.x + ballRadius > canvas.width || this.x - ballRadius < 0) {
                            this.dx = -this.dx;
                        }
                        if (this.y + ballRadius > canvas.height || this.y - ballRadius < 0) {
                            this.dy = -this.dy;
                        }

                        // Boundary clamping (prevent balls from getting stuck)
                        this.x = Math.max(ballRadius, Math.min(canvas.width - ballRadius, this.x));
                        this.y = Math.max(ballRadius, Math.min(canvas.height - ballRadius, this.y));
                    }
                }
            }

            // Initialize all 45 balls for the simulation
            function initBalls() {
                balls = [];
                for (let i = 1; i <= numTotalBalls; i++) {
                    balls.push(new Ball(i));
                }
                drawnBalls = [];
                drawnNumbersDisplay.innerHTML = ''; // Clear display area
            }

            // Main drawing loop
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas
                balls.forEach(ball => {
                    if (!ball.isExited) { // Only draw balls that haven't exited
                        ball.draw();
                    }
                });
            }

            // Animation loop
            function animate() {
                if (!drawingInProgress) { // Only update if not in drawing phase
                    balls.forEach(ball => ball.update());
                }
                draw(); // Always redraw
                animationFrameId = requestAnimationFrame(animate);
            }

            // Start the drawing process (sequentially pick balls)
            function startDrawingProcess(generatedNumbers) {
                if (drawingInProgress) return;
                drawingInProgress = true;
                drawnBalls = [];
                drawnNumbersDisplay.innerHTML = '';

                // Reset balls to original state for new generation before drawing
                initBalls(); 

                // Stop random movement for all balls
                balls.forEach(ball => {
                    ball.dx = 0;
                    ball.dy = 0;
                });

                let pickIndex = 0;
                const pickInterval = setInterval(() => {
                    if (pickIndex < generatedNumbers.length) {
                        const pickedNum = generatedNumbers[pickIndex];
                        const ballToPick = balls.find(b => b.number === pickedNum);

                        if (ballToPick) {
                            ballToPick.isDrawn = true;
                            // Set a target position to move the ball out of the canvas view
                            ballToPick.targetX = canvas.width / 2; // Move to center X
                            ballToPick.targetY = canvas.height + ballRadius * 2; // Move far below the canvas

                            drawnBalls.push(ballToPick);
                            
                            // Display the ball below the canvas after a short delay
                            setTimeout(() => {
                                const ballDiv = document.createElement('div');
                                ballDiv.className = `lotto-ball ${lottoBallColors(ballToPick.number)}`;
                                ballDiv.textContent = ballToPick.number;
                                drawnNumbersDisplay.appendChild(ballDiv);
                            }, 500); // Small delay to sync with animation

                            // For simulation, we keep the ball in 'balls' but its movement is controlled
                        }
                        pickIndex++;
                    } else {
                        clearInterval(pickInterval);
                        drawingInProgress = false;
                        // Optional: Resume random movement for remaining balls or clear them
                    }
                }, 1000); // Pick one ball every second
            }

            // Function to generate lotto numbers (used by both buttons)
            function generateLottoNumbers() {
                loadingIndicator.classList.remove('hidden');
                resultsContainer.innerHTML = '';
                drawnNumbersDisplay.innerHTML = ''; // Clear drawn balls on new generation

                setTimeout(() => {
                    const includeNumbers = includeInput.value.split(' ').filter(n => n).map(Number).filter(n => n >= 1 && n <= 45);
                    const excludeNumbers = excludeInput.value.split(' ').filter(n => n).map(Number);
                    const generationCount = parseInt(countSelect.value);

                    if (includeNumbers.length > 6) {
                        alert('í¬í•¨í•  ë²ˆí˜¸ëŠ” 6ê°œê¹Œì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                        loadingIndicator.classList.add('hidden');
                        return;
                    }
                    
                    let allNumbers = Array.from({ length: 45 }, (_, i) => i + 1);
                    let availableNumbers = allNumbers.filter(n => !includeNumbers.includes(n) && !excludeNumbers.includes(n));

                    let finalResults = [];
                    for (let i = 0; i < generationCount; i++) {
                        availableNumbers.sort(() => Math.random() - 0.5);
                        let randomPicks = availableNumbers.slice(0, 6 - includeNumbers.length);
                        let finalCombination = [...includeNumbers, ...randomPicks].sort((a, b) => a - b);
                        finalResults.push(finalCombination);
                    }
                    
                    loadingIndicator.classList.add('hidden');
                    return finalResults;
                }, 1000); // 1-second delay for simulation
            }


            // Event listener for the "í–‰ìš´ ë²ˆí˜¸ ìƒì„±" button (main generator)
            generateButton.addEventListener('click', async () => {
                const results = await new Promise(resolve => {
                    loadingIndicator.classList.remove('hidden');
                    resultsContainer.innerHTML = '';
                    drawnNumbersDisplay.innerHTML = '';
                    setTimeout(() => {
                        const generated = generateLottoNumbersLogic(); // Call internal generation logic
                        loadingIndicator.classList.add('hidden');
                        resolve(generated);
                    }, 1000);
                });
                displayResults(results);
                currentGeneratedNumbers = results; // Store for simulation button
            });

            // Event listener for the "í–‰ìš´ ë²ˆí˜¸ ìƒì„± (ì‹œë®¬ë ˆì´ì…˜)" button
            simulateButton.addEventListener('click', async () => {
                const results = await new Promise(resolve => {
                    loadingIndicator.classList.remove('hidden');
                    resultsContainer.innerHTML = ''; // Clear text results for simulation focus
                    drawnNumbersDisplay.innerHTML = ''; // Clear previous drawn balls
                    setTimeout(() => {
                        const generated = generateLottoNumbersLogic(); // Call internal generation logic
                        loadingIndicator.classList.add('hidden');
                        resolve(generated);
                    }, 1000);
                });
                // Start simulation only if numbers were generated
                if (results.length > 0) {
                    startDrawingProcess(results[0]); // Start simulation with the first combination
                }
                currentGeneratedNumbers = results; // Store for main button if needed
            });

            // Internal logic for number generation (refactored for reuse)
            function generateLottoNumbersLogic() {
                const includeNumbers = includeInput.value.split(' ').filter(n => n).map(Number).filter(n => n >= 1 && n <= 45);
                const excludeNumbers = excludeInput.value.split(' ').filter(n => n).map(Number);
                const generationCount = parseInt(countSelect.value);

                if (includeNumbers.length > 6) {
                    alert('í¬í•¨í•  ë²ˆí˜¸ëŠ” 6ê°œê¹Œì§€ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
                    return [];
                }
                
                let allNumbers = Array.from({ length: 45 }, (_, i) => i + 1);
                let availableNumbers = allNumbers.filter(n => !includeNumbers.includes(n) && !excludeNumbers.includes(n));

                let finalResults = [];
                for (let i = 0; i < generationCount; i++) {
                    availableNumbers.sort(() => Math.random() - 0.5);
                    let randomPicks = availableNumbers.slice(0, 6 - includeNumbers.length);
                    let finalCombination = [...includeNumbers, ...randomPicks].sort((a, b) => a - b);
                    finalResults.push(finalCombination);
                }
                return finalResults;
            }
            
            // Function to display generated lotto combinations (text below form)
            function displayResults(results) {
                results.forEach((combination, index) => {
                    const resultDiv = document.createElement('div');
                    resultDiv.className = 'p-4 mb-3 border rounded-lg flex items-center justify-between fade-in';
                    
                    const numbersHTML = combination.map(num => 
                        `<div class="lotto-ball ${lottoBallColors(num)}">${num}</div>`
                    ).join('');
                    
                    resultDiv.innerHTML = `
                        <div class="flex items-center">
                            <span class="font-bold mr-4 text-gray-500">${String.fromCharCode(65 + index)}</span>
                            <div class="flex flex-wrap">${numbersHTML}</div>
                        </div>
                        <button class="copy-button text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-1 px-3 rounded-lg" data-clipboard-text="${combination.join(', ')}">ë³µì‚¬</button>
                    `;
                    resultsContainer.appendChild(resultDiv);
                });
            }

            // Clipboard Copy Functionality
             resultsContainer.addEventListener('click', function(event) {
                if (event.target.classList.contains('copy-button')) {
                    const textToCopy = event.target.getAttribute('data-clipboard-text');
                    const textArea = document.createElement('textarea');
                    textArea.value = textToCopy;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        event.target.textContent = 'ë³µì‚¬ë¨!';
                        setTimeout(() => { event.target.textContent = 'ë³µì‚¬'; }, 2000);
                    } catch (err) {
                        console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                    }
                    document.body.removeChild(textArea);
                }
            });


            // Chart.js - Data Analysis Visualization Setup
            const chartData = {
                frequency: {
                    labels: ['1-10', '11-20', '21-30', '31-40', '41-45'],
                    data: [2050, 2190, 2210, 2150, 1080]
                },
                oddEven: {
                    labels: ['í™€3:ì§3', 'í™€4:ì§2', 'í™€2:ì§4', 'í™€5:ì§1', 'í™€1:ì§5', 'í™€6:ì§0', 'í™€0:ì§6'],
                    data: [350, 290, 280, 120, 70, 15, 5]
                },
                sumDistribution: {
                    labels: ['81-100', '101-120', '121-140', '141-160', '161-180'],
                    data: [150, 250, 300, 250, 100]
                },
                topNumbers: {
                    labels: ['34', '17', '1', '43', '13', '12', '27', '18', '4', '20'],
                    data: [195, 192, 190, 188, 187, 186, 185, 184, 183, 182]
                }
            };
            
            const chartOptions = {
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: '#10a37f',
                        titleFont: { size: 14, weight: 'bold' },
                        bodyFont: { size: 12 },
                        padding: 10,
                        cornerRadius: 5
                    }
                },
                scales: {
                    y: { grid: { color: '#e5e7eb' } },
                    x: { grid: { display: false } }
                }
            };

            new Chart(document.getElementById('frequencyChart'), {
                type: 'bar',
                data: {
                    labels: chartData.frequency.labels,
                    datasets: [{
                        label: 'ì¶œí˜„ íšŸìˆ˜',
                        data: chartData.frequency.data,
                        backgroundColor: ['#fbc400', '#69c8f2', '#ff7272', '#aaa', '#b0d840'],
                    }]
                },
                options: chartOptions
            });

            new Chart(document.getElementById('oddEvenChart'), {
                type: 'pie',
                data: {
                    labels: chartData.oddEven.labels,
                    datasets: [{
                        data: chartData.oddEven.data,
                        backgroundColor: ['#10a37f', '#36b9cc', '#f6c23e', '#e74a3b', '#858796', '#5a5c69', '#4e73df'],
                    }]
                },
                options: { 
                    ...chartOptions, 
                    plugins: { 
                        legend: { display: true, position: 'bottom' } 
                    } 
                }
            });
            
             new Chart(document.getElementById('sumDistributionChart'), {
                type: 'line',
                data: {
                    labels: chartData.sumDistribution.labels,
                    datasets: [{
                        label: 'ì¡°í•© ìˆ˜',
                        data: chartData.sumDistribution.data,
                        borderColor: '#10a37f',
                        backgroundColor: 'rgba(16, 163, 127, 0.1)',
                        fill: true,
                        tension: 0.4,
                    }]
                },
                options: chartOptions
            });
            
            new Chart(document.getElementById('topNumbersChart'), {
                type: 'bar',
                data: {
                    labels: chartData.topNumbers.labels,
                    datasets: [{
                        label: 'ì¶œí˜„ íšŸìˆ˜',
                        data: chartData.topNumbers.data,
                        backgroundColor: '#36b9cc',
                    }]
                },
                options: { 
                    ...chartOptions, 
                    indexAxis: 'y'
                }
            });

            // Initialize canvas and start animation
            setCanvasSize();
            initBalls();
            animate();
            window.addEventListener('resize', setCanvasSize);
        });
    </script>
</body>
</html>
